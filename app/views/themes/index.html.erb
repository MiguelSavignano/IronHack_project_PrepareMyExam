<p id="notice"><%= notice %></p>

<h1>Listing Themes</h1>

<table>
  <thead>
    <tr>
      <th>Description</th>
      <th>Minutes</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @themes.each do |theme| %>
      <tr>
        <td><%= theme.description %></td>
        <td><%= theme.minutes %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<%= link_to 'New Theme', new_school_course_subject_exam_path %>
<p>Total minutes: <%=@themes.reduce(0){|sum,theme|sum+theme.minutes} %></p>
<br>

<div class="row">
      <div class="col s6">
 <div class="ct-chart ct-golden-section" id="chart2"></div>
</div>
</div>


 <script>
  var contents = [];
  <% @exam.themes.each do |theme| %>
    contents.push('<%= theme.description %>');
  <% end %>

  new Chartist.Bar('.ct-chart', {
  labels: contents,
  series: [
    <%=@exam.themes.map{|theme|theme.minutes}%>
  ]
}, {
  seriesBarDistance: 10,
  reverseData: true,
  horizontalBars: true,
  axisY: {
    offset: 70
  }
});
  </script>
 
  
 